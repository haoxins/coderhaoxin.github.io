---
title: 量子计算公开课
description: 从德谟克利特, 计算复杂性到自由意志
date: 2021-07-16
---

* [量子计算公开课](https://book.douban.com/subject/35467917/)
  - 副标题: *从德谟克利特, 计算复杂性到自由意志*
  - 原作名: *Quantum Computing since Democritus*
  - *自费曼以来, 还没有谁的公开课能如此精彩*
  - `2021`年`ACM计算奖`得主

* [Shtetl-Optimized](https://www.scottaaronson.com/blog/)
  - The Blog of Scott Aaronson
  - 哇喔, 原来我早先就收藏了作者的博客

* [阿列夫数: Aleph number](https://en.wikipedia.org/wiki/Aleph_number)
  - https://zh.wikipedia.org/wiki/阿列夫數
  - https://zh.wikipedia.org/wiki/阿列夫数

```
人们会好奇这本书的目标受众究竟是哪类人群.
一方面, 作为一本科普读物, 它有点儿深奥. 就像
罗杰·彭罗斯的 "通向实在之路: 宇宙法则的完全指南",
这本书不是写给那些畏惧数学的人看的.
一位好奇的门外汉确实可以从这本书中学到很多,
但他将不得不跳过一些难懂的部分.
因此, 如果你只能消化那些已经把科学仔细剔除干净的"科普读物",
那么你最好找别的书看.

另一方面, 这本书也不适合作为教科书或参考书,
因为它的内容太过广泛, 风格太过随意和充满个人趣味.
确实, 它包含定理, 证明和练习,
并且涵盖了多得惊人的领域的基础知识:
逻辑, 集合论, 可计算性, 复杂性, 密码系统,
量子信息, 计算学习理论, 等等. 除了这些基础知识,
这本书还包含相当多的涉及量子复杂性理论的内容
(比如, 关于量子证明和量子建议), 然而据我所知,
这些内容是首次在这里以图书的形式给出.
但不得不说, 这本书在不同话题之间切换得太快了,
以至于它无法成为对任何一个话题的权威讨论.
```

```
所以, 这本书是要卖给那些实际上连 第1章 都看不完,
却想在咖啡馆的桌上摆一本书来装门面的人吗?
唯一我能想到的其他可能性是, 其实, 存在一类需求未被满足的受众,
他们想读的既不是 "科普" 读物, 也不是 "学术" 著作,
而是从研究者带有严重倾向性的视角出发,
使用他们在楼道里与其他领域的同事交谈时所用的语言来描述某个科研领域的书.
也许, 除了这些同事, 这类假想的 "需求未被满足的受众"
还包括早慧的高中生, 或者曾很享受大学时代的理论课程,
而现在想了解最新研究进展的计算机程序员和工程师.
```

* 如果量子力学不是通常意义上的物理学
  (如果它不是关于物质, 能量, 波或粒子的),
  那它到底是关于什么的呢?
  在我看来, 它是关于
  **信息**, **概率**, **可观测量**,
  以及*它们之间的关系*的.

```
正如我们可以把宗教分成一神论和多神论, 我们也可以通过其对
"将你自己放入相干叠加中" 议题的站队来对量子力学的诠释加以分类.

在一边, 我们有一些诠释 -- 哥本哈根诠释, 量子贝叶斯以及认识论,
它们积极地把这个议题扫人地毯底下. 在这些诠释中,
这边是你的量子系统, 那边是你的测量设备, 两者之间有明确的界线.
确实, 这条界线在不同实验中会有变化, 但对于任何给定的实验,
它必须存在于某处. 在原则上, 你甚至可以想象,
将其他人放在量子力学的一侧, 而将你自己始终放在经典力学的一侧.

为什么?因为量子状态只是你的知识的一种表象, 而你自己, 根据定义,
是一个经典的存在. 但如果你希望将量子力学运用于整个宇宙,
包括你自己, 又会发生什么? 根据认识论的诠释, 答案就是你别问这种问题!
顺便一提, 这是尼尔斯·玻尔最喜爱的哲学回应, 他的撒手锏是:
"你不能问这样一个问题!"

在另一边, 我们也有一些诠释 -- 多世界诠释, 玻姆力学等,
它们确实以不同方法试着让"将你自己放人相干叠加中"说得通.
```

## 集合

* **一阶逻辑规则**
  - 这些规则关注的都是如何构造出有效的语句 -- "有效",
    不正式地说, 意指 "恒真" (对于变量的所有可能设定均为真);
  - 不过, 我们暂且可以只把它视为特定符号串的一种组合性质.

* *命题恒真式* (propositional tautology):
  - *A或非A, 非(A与非A)等均有效*.
* *假言推理* (modusponen):
  - *如果A有效, 并且A蕴涵B有效, 则B有效*.
* *等词规则* (equalityrule):
  - *x=x 且 x=y 蕴涵 y=x, x=y 且 y=z 蕴涵 x=z*,
    *以及 x=y 蕴涵 f(x)=f(y) 均有效*.
* *变量改变* (change of variable):
  - *改变变量名不影响陈述的有效性*.
* *量词消去* (quantifier elimination):
  - *如果对于任意x, A(x)有效, 则对于任意y, A(y)有效*.
* *量词引入* (quantifier addition):
  - *如果y是无约束变量时, A(y)有效, 则对于任意x, A(x)有效*.
* *量词规则* (quantifierrule):
  - *如果非(对于任意x, A(x))有效, 则存在x使得非(A(x))有效*.

* 比如, 下面是用一阶逻辑语言写出的关于非负整数的皮亚诺公理.
  - 在其中 `S(x)` 为后继函数, 也就是说,
    `S(x)=x+1`, 并且我假设函数已被定义.

* 关于非负整数的皮亚诺公理
  - *零的存在性*:
    存在一个 `z`, 使得对于任意 `x`, `S(x)`
    不等于 `z` (这个 `z` 便被当作0).
  - *每个整数至多有一个前驱数*:
    对于任意的 `x` 和 `y`,
    若 `S(x)=S(y)`, 则 `x=y`.

* 恰恰因为这一点, 我不认为我们可以通过公理和形式逻辑
  为算术奠定更坚实的基础. 如果你还不同意 `1+1=2`, 那么,
  即使你耗尽毕生研究数理逻辑也不会把这弄得更清楚.
  但这些东西依然非常有意思, 原因至少有三.
  - 1) 一旦我们讨论的不是整数, 而是不同大小的 "无穷大",
    情况就会发生变化. 届时, 写出公理并做出它们的推论,
    几乎是我们能做的全部.
  - 2) 一旦将一切形式化, 我们便可以利用计算机进行推理.
  - 前提1: 对于任意x, 若A(x)为真, 则B(x)为真.
  - 前提2: 存在x, 使得A(x)为真.
  - 结论: 存在x, 使得B(x)为真.
  - 你一定看出来了. 这里的要点是, 从前提推出结论的过程
    完全是一个句法运算 -- 它不要求对命题的含义有任何理解.
  - 3) 除了让计算机为我们寻找证明, 我们还可以把这些证明
    本身视为数学对象, 从而开始涉足元数学.

* **集合论的公理**

这些公理均涉及被称为"集合"的对象, 以及集合之间的关系--称为"成员关系"或"包含关系", 用符号日表示. 对集合的任一操作最终都将通过包含关系定义.
. 空集公理:存在一个空集. 也就是说, 存在一个集合x, 对于x, 不存在y使得yex.
. 外延公理:如果两个集合包含同样的元素, 则两者相等. 也就是说, 对于任意的x和y, 如果(zEx, 当且仅当对于任意的z, zEy)为真, 则x=y. . 无序对公理:对于任意的集合x和y, 存在集合z={x,. 也就是说, 当且
仅当w=x或w=y, 存在z使得对于任意的w, wEzo
并集公理:对于任意集合x, 存在一个集合等于x中所有集合的并集.
. 无穷公理:存在一个集合x包含空集, 且对于任意的yEx, x包含y). (为
什么这个x一定有无穷多元素?)
. 幂集公理:对于任意集合x, 存在一个由x的所有子集构成的集合.
. 替代公理(它事实上是无穷多个公理, 对于每个将集合映射为集合的函数 A都有一个相应的公理):对于任意集合x, 存在集合z=(A()lvEx), 即2是将A作用在x上所有元素的结果. (从技术上讲, 我们还需要定义"从集合到集合的映射"是什么意思, 这可以做到, 但我不打算在这里展开. ). 基础公理:所有非空集合x均有这样一个元素y, 使得对于任意的2, zEx或zfx. (这是一个技术性公理, 旨在排除像(((..))?> 这样的集合. )
这些公理称为策梅洛-弗兰克尔公理, 是儿乎所有数学的基础. 所以我觉得你一辈子怎么也应该见它们一次.

* 格奥尔格·康托尔 (1845-1918) 对于人类知识的重大贡献之一.
  他说, 当且仅当两个集合的元素有一一对应关系时, 它们具有相同的基数.
  就是这样. 如果不管你怎样尝试将这些元素配对, 其中一个集合总有元素剩下,
  则这个集合更大.
* 集合有哪些可能的基数呢? 当然, 有些是有限的集合, 它们的基数是一个自然数.
  然后是第一个无穷基数, 整数的基数, 康托尔称之为 $$ X $$.
  有理数具有同样的基数 $$ N $$,
  这个事实也可以被表述为有理数是可数的, 即它们可以与整数一一对应.
  - 换言之, 我们可以制作出一个无限列表,
    使得每个有理数最终都会出现在这个列表中.
* 我们该如何证明有理数可数呢? 你以前没有见过? 噢, 好吧. 首先,
  - 列出0.
然后列出所有分子和分母的绝对值之和为2的有理数. 接着, 列出分子和分母的绝对值之和为3的有理数, 以此类推. 显然, 每个有理数最终都会出现在该列表中. 因此, 它们仅仅是可数无穷多的. 证毕.
但康托尔的最大贡献是表明并非每个无穷均是可数的--比如, 实数的无穷要
比整数的无穷大. 更一般地, 正如存在无穷多个数, 同样存在无穷多种"无穷"
你也没见过对它的证明?没关系. 假设有一个无穷集A. 我们将展示如何构
造另一个无穷集B, 使得B比A更大. 这里的B只需是A所有子集的集合, 而根
据幂集公理, 它必定存在. 我们如何知道B比A大?假设我们可以将A中的每个
元素aEA与B中的每个元素/a)EB-一配对, 使得B中没有剩余元素. 然后, 我们可以定义一个新的子集SCA, 它由所有不包含在/a)之中的a组成. 注意, S
不可能已经与A中的任意元素a--配对, 否则便会有当且仅当a不属于/a)时a属于/a), 出现矛盾. 因此, B要比A大, 并且我们从一个较小的无穷出发, 得到了一个较大的无穷.
这无疑是数学中最伟大的四五个证明之---再一次地, 你一辈子怎么也应该见它们一次.


## 哥德尔, 图灵和他们的小伙伴

* 不完备性定理说的是, 给定任意自洽的, 可计算的公理集,
  存在关于整数的真命题, 它不可能通过这些公理被证明.
  在这里, "自洽" 意味着你不可能推出矛盾, 而 "可计算"
  意味着要么有有限个公理, 要么如果有无穷个公理,
  那么至少存在一个算法可以生成所有这些公理.
  - 如果没有可计算的要求, 那么我们可以简单地让我们的
    "公理集" 由所有关于整数的真命题组成.
    在实践中, 这可不是一个太有用的公理集.
* 但稍等一下! 完备性定理说, 任何由这些公理推出的命题都能为这些公理所证明,
  这难道不是与不完备性定理相矛盾吗? 先记着这个问题, 我们会在之后把它搞清楚.
* 不过首先, 让我们看看不完备性定理是如何证明的. 人们总是说,
  不完备性定理的证明是一项技术杰作, 它要用到30页纸,
  它要用到一个涉及质数的巧妙构造, 如此等等. 真是令人难以置信,
  在哥德尔给出证明后80多年, 它在数学课上仍旧是以如此形式呈现的.
* 好, 要不要我来告诉你一个秘密? 不完备性定理的证明大约需要两行 -- 几近平凡.
  但我要提醒一下, 为了给出两行的证明, 你首先需要计算机的概念.
* 当我还在初中的时候, 我有一位非常擅长数学但不太擅长编程的朋友.
  他想用数组写一个程序, 但他并不知道什么是数组. 那么他是怎么做的呢?
  他把数组的每个元素与一个独特的质数一一对应, 然后他把这些质数都乘了起来;
  这样每当他想要从这个数组中读出一些东西时, 他就对这个乘积进行质因数分解.
  - 要是他在一台量子计算机上编程, 这种做法可能也就没有那么糟糕!
  - 无论如何, 我朋友所做的, 基本上也就是哥德尔所做的.
    他打造了一位高明的黑客, 以便不通过编程来写程序.

* 这个机器能做什么? 显然, 它必须能够从纸带上读取符号并根据指令修改它们.
  为简单起见, 假设这个机器每次只读一个符号. 在这种情况下, 它最好能前后移动.
  要是这个机器在得到结果后便能停机, 那自然也是极好的.
* 那么在任意时候, 这个机器如何决定要做些什么呢? 在图灵看来,
  这应该只取决于两部分信息:
  - (1) 目前正在读取的符号, 以及
  - (2)机器目前的 "内部构形" 或 "状态".
* 根据它的内部状态以及目前读取的符号, 这个机器应该(1)在目前的方格中
  写下一个新的符号, 覆盖那里原先的符号, (2)向前或向后移动一格,
  并(3)转变到一个新的状态或者停机.
* 最后, 由于我们想让这个机器在物理上是可实现的,
  因此可能的内部状态数目应该是有限的. 以上就是它仅有的要求.
* 图灵的第一个结论是, 存在一种 "通用" 图灵机 -- 它能够模拟任何其他
  通过纸带上的符号描述出来的机器. 也就是说,
  - **存在通用的可编程计算机**.

* 很多著名的数学问题. 比如, 哥德巴赫猜想
  - 任何大于2的偶数均可以写成两个质数的和.
* 现在, 我们可以简单地写一个程序, 验证 4, 6, 8 等,
  并且它只有在发现这样一个数不能写成两个质数之和时才停机.
  这样, 判断这个程序是否停机与判断哥德巴赫猜想是否成立便是等价的.
* 但我们能够证明这种解决停机问题的程序不存在吗? 这正是图灵所做的.
  他的关键思路不是去尝试分析这样一个程序的内部动态过程 (假设它存在的话).
  相反, 他利用反证法假设这样的程序 `P` 存在.
  然后, 我们可以修改 `P`, 得到一个新的程序 `P'`, 使得用另一个程序 `Q`
  作为输人, `P'`
  - (1) 要么会一直运行下去, 如果用 `Q` 的自身代码作为输人, `Q` 会停机;
  - (2) 要么会停机, 如果用 `Q` 的自身代码作为输入, `Q` 会一直运行下去.
* 现在, 我们用 `P'` 的自身代码作为输入. 根据上述条件,
  如果 `P'` 会停机, 那么它会一直运行下去;
  而如果它会一直运行下去, 那么它会停机. 因此, `P'` (及由此可得 `P`)
  一开始就不可能存在.
* 正如我之前所说, 一旦你有了图灵的结论, 哥德尔的结论便作为额外奖励自然蹦了出来.
  为什么? 假设不完备性定理是错的
  - 也就是说, 存在一个自洽的, 可计算的证明体系 `F`,
    据此任何关于整数的命题均可以被证明对或错,
* 那么给定一个计算机程序, 我们就可以简单地在F中搜索每一个可能的证明,
  直到我们找到一个表明这个程序会停机的证明, 或者找到一个表明它不会停机的证明.
  这是可能的, 因为表明一个特定计算机程序会停机的命题, 终究只是一个关于整数的命题.
  但这将给出一个解决停机问题的算法, 而我们已经知道, 这是不可能的.
  - 因此, `F` 不可能存在.

* 唯一可能的结论是, 如果 `F` 是自洽的, 则 `F` 不能够证明自身的自洽性.
  这个结论有时候被称为**哥德尔第二不完备性定理**.
* 第二不完备性定理确认了我们可能早该预料到的结论:
  任何自以为能够证明自身自洽性的数学理论根本没有丝毫自洽性可言!
  如果我们想要证明一个理论 `F` 是自洽的, 那么我们只能在一个更强大的理论中去证明
  - 一个平凡的例子是 `F + Con(F)`, 即理论 `F` 加上声明 `F` 是自洽的公理.
    但我们又如何知道 `F + Con(F)` 本身是自洽的呢? 好吧, 我们只能用一个
    更强大的理论 `F + Con(F) + Con(F + Con(F))`
    去证明 ... 无穷无尽.
  - 事实上, 它甚至超越了无穷, 成为可数序数.
* 再举一个具体的例子. 第二不完备性定理告诉我们,
  与整数有关的流传最广的公理体系 -- 皮亚诺算术, 不能证明自身的自洽性.
  或者用符号表述: `PA` 不能证明 `Con(PA)`.
  如果我们试图去证明 `Con(PA)`, 就需要一个更强大的公理体系,
  比如 `ZF` (集合论的策梅洛-弗兰克尔公理).

* 我之前承诺过要解释为什么不完备性定理与完备性定理不矛盾.
  对此, 最简单的方法可能还是举例. 考虑一个 "自暴自弃的理论",
  `PA + 非(Con(PA))`, 也就是皮亚诺算术加上一个声明自身不自洽的断言.
  我们知道, 如果 `PA` 是自洽的, 那么这个奇怪的理论必定也是自洽的.
  不然的话, `PA` 就可以证明自身的不自洽性,
* 而这是不完备性定理所不允许的. 而根据完备性定理, `PA + 非(Con(PA))`
  必定有一个模型. 但这个模型可能长什么样子? 特别是, 在这个模型中,
  如果你只想找到表明 `PA` 是不自洽的证明, 结果会发生什么?
* 让我来告诉你会发生什么: 公理会告诉你, 表明 `PA` 是不自洽的证明
  可被编码为一个正整数. 然后你就会问: "但 `X` 又是什么呢?"
  公理会回答: "`X` 就是 `X`." 然后你会问:
  "作为一个一般的正整数, `X` 究竟是什么?"
* 如此这般下去. 公理会一直编造一些假想数来满足你的要求,
  而通过假设 `PA` 本身是自洽的, 你将永远无法从它们那里推出不自洽.
* 完备性定理的要点在于公理编造的这些假想数的整个无穷集将会构成 `PA`
  的一个模型
  - 并且不是一般的模型 (如一般的正整数)!
* 如果我们坚持要讨论一般的模型, 那我们就从*完备性定理*的论域
  切换到了*不完备性定理*的论域.
* 你还记得先前那个思考题吗? 问题是:
  是否存在这样一个定理, 你只有将 "它可以被证明" 设为一个公理,
  才能证明它?
  - 换句话说, "相信自己" 在数学上有用吗?
* 现在我们可以回答这个问题了.

* 如果一个命题可以通过将 "它可以被证明" 设为一个公理而得到证明,
  那么它也可以通过不假设这样的公理而得到证明.
  这个结论被称为**勒布定理**.

* 还记得之前我们讨论过的选择公理和连续统假设吗?
  - 它们是关于连续统的很自然的命题, 而由于连续统是一个如此良定义的数学实体,
    因此它们必定显然要么为真, 要么为假. 那么如何确定它们的真假呢?
  - 哥德尔在 1939 年证明了, 假设选择公理(AC)或连续统假设(CH)的真假,
    不会导致任何不自洽性. 换言之, 如果理论 `ZF+AC` 或 `ZF+CH` 不自洽,
    那只能是因为ZF本身是不自洽的.
* 这里引发了一个显而易见的问题: 我们能否做到假设 `AC` 和 `CH` 都为假,
  并保持自洽性?
* 哥德尔对此想了很久, 但终究没能回答. 最后, 保罗·科恩在 1963
  年给出了肯定的回答, 他借助了一种被称为 "力迫法" 的新技术.
  - 为此, 他成为唯一位因集合论和数学基础而获得菲尔兹奖的数学家.
* 因此, 我们现在知道了, 一般的数学公理决定不了选择公理或连续统假设的真假.
  你可以自由选择相信两者都成立, 或两者都不成立, 或一个成立而另一个不成立,
  而不用担心会出现矛盾. 事实上, 直到今天, 数学家对此依然各执一词,
  并给出了许多有趣的支持或反对的论证.
* 让我最后用一个可能有点儿出人意料的观察作结:
  `AC` 和 `CH` 相对于 `ZF` 的独立性本身是皮亚诺算术的一个定理.
* 因为哥德尔和科恩的自洽的理论归根结底是一系列摆弄一阶逻辑语句的命题
  - 它们在原则上可以被直接证明, 而无须考虑这些语句旨在描述的超限集.
  - 在实践中, 将这些语句组合起来是极其复杂的, 而科恩也说过,
    仅是尝试从有限组合的角度去考虑这些问题是没有出路的.
    但我们知道在理论上是可以这样做的.
  - 在我看来, 这很好地说明了整件事背后的一个核心哲学问题:
    我们真的是在谈论连续统, 还是只是在谈论那些谈论连续统的符号的有限序列?

## 古复杂性

* 当然, 量子力学得名自一个事实: 在这个理论中, 很多可观测量,
  比如能级, 是离散的, 即 "量子化" 的.
* 而考虑到计算机科学家反对量子计算的原因之一是, 在他们看来,
  这是一个连续的计算模型, 这看上去不无悖论.
* 我对此的观点是, 就像经典概率论, 量子力学应该被视为某种
  "介于" *连续*和*离散*之间的理论.
  - 在这里, 我假设希尔伯特空间或概率空间是有限维的.
* 我的意思是, 尽管存在连续的参数 (分别是概率或概率幅)
  但这些参数不是直接可观察的, 而这起到了 "屏蔽" 作用,
  将我们挡在了选择公理和连续统假设的奇异世界之外.
* 我们不需要一个细致的物理学理论告诉我们, 诸如概率幅是有理的还是无理的,
  概率幅比 $$ \aleph_{1} $$ 多还是少之类的问题在物理上是没有意义的.
* 这可从以下事实直接推得: 如果我们想要确切知道一个概率幅,
  那么 (即便假设测量没有错误) 我们将需要测量合适的量子态无穷多次!

* 不管怎样, 如果给定问题 `B` 的一个谕示, 问题 `A`
  即可由一个图灵机解决, 那么我们称问题 `A` 图灵可归约
  (Turing reducible) 到问题 `B`.
  - 换句话说, "A不比B难":
  - 如果我们有一个假想的设备能够解决B, 那我们也能够解决A.
* 如果两个问题互相图灵可归约, 我们就称两者是图灵等价的
  (Turing equivalent).
* 因此, 比如, 一个命题能否从集合论公理中得到证明的问题
  与停机问题就是图灵等价的.

* 现在, 图灵度 (Turing degree) 是指对于某个给定问题,
  所有与之图灵等价的问题的集合. 图灵度有什么例子?
  其实我们已经见过两个例子了:
  - (1) 可计算问题的集合, 以及
  - (2) 与停机问题图灵等价的问题的集合.
  - 说这两者的图灵度不相等也就是以另一种方式说停机问题不可解.
* 有比这两者更高的图灵度吗? 换句话说, 有什么问题比停机问题更难,
  它即便借助停机问题的谕示也解决不了?好吧, 考虑下述 "超级停机问题":
  - 给定一个拥有停机问题谕示的图灵机, 然后问它是否会停机.
    我们能够证明即便拥有一般停机问题的谕示, 这个超级停机问题仍然解决不了吗?
    是的, 我们可以! 我们只需拿出图灵对于停机问题不可解的原始证明,
    然后 "进行升级", 给所有机器都配上一个停机问题的谕示.
    证明的每一步都与原来的一模一样, 这时我们称这个证明 "相对化" (relativize)了.

## P, NP 和它们的小伙伴

## 随机性

## 密码学

## 量子力学

## 量子计算

## 彭罗斯

## 退相干和隐变量

## 证明

## 量子态有多大?

## 量子计算十一诘

## 学习

## 交互式证明, 电路下界及其他

## 人择原理趣谈

## 自由意志

## 时间旅行

## 宇宙学和复杂度
