---
title: 普林斯顿概率论读本 (上)
description: 翠叶藏莺, 珠帘隔燕. 炉香静逐游丝转. 一场愁梦酒醒时, 斜阳却照深深院.
date: 2022-11-24
---

- [普林斯顿概率论读本](https://book.douban.com/subject/35193606/)

> 注意, 本书中用
  $$ \log x $$
  表示以 `e` 为底 `x` 的对数, 而不是用
  $$ \ln x $$.

- 当 `x` 取值较小时, `log(1 - x)` 近似于 `-x`.
  - 在讨论中心极限定理的证明时, 我们还会遇到这种展开式.

```
关于和与积分之间的相互转化, 我们有一套庞大的理论.
你可能还记得像黎曼和, 黎曼积分这样的名词.
但要注意, 在乘积里并没有类似的概念. 我们所熟知的只有和.
虽然我们对于乘积了解得并不多, 但会看到对数可以把乘积转化成和,
这样就能进入熟悉的领域. 如果你不清楚对数为什么有用,
那现在是时候来了解它了. 对数法则是标准化测试的内容,
所以我们在这里不展开讨论. 实际上, 对数法则是解决很多问题的好方法.
```

- __几何级数公式__:
  - 设 `r` 是一个绝对值小于 `1` 的实数, 那么
  - $$ \sum_{n = 0}^{\infty} r^n = 1 + r + r^2 + r^3 + ... = \frac{1}{1 - r} $$

## 基本概率定律

```
从罗素悖论中可以推出一个结论,
那就是我们无法通过简单地收集具有给定性质的所有对象来形成集合.
幸运的是, 我们在概率论中遇到的绝大多数集合都没有这个问题,
但重要的是意识到潜在的危险, 并且要正确, 认真地理解证明.
```

- $$ A \times B $$:
  称为 `A` 和 `B` 的`笛卡儿乘积`.
  它是全体有序对 `(a, b)` 的集合, 其中
  $$ a \in A $$
  且
  $$ b \in B $$.
  - 当 `A = B` 时, 我们通常用
    $$ A^2 $$
    来表示
    $$ A \times A $$.
  - 更一般地, 如果有 `n` 个 `A` 相乘, 则记作
    $$ A^n $$.
- $$ \mathcal{P} (A) $$:
  称作 `A` 的幂集. 它是 `A` 的所有子集的集合.
  如果 `A = {x, y}`, 那么

$$
\mathcal{P} (A) =
  \left \{
    \varnothing,
    \left \{ x \right \},
    \left \{ y \right \},
    A
  \right \}
$$.

> 注意,
  $$ \mathcal{P} (A) $$
  中的元素自身就是集合.

```
一个有趣的问题是怎样以严格的, 集合论的方式来构造整数集
(或者更一般地构造实数集). 令人惊奇的是,
在只有一个空集的前提下就可以实现这一点!
我们可以利用空集 ø 来构造一个集合, 即 {ø} (包含空集的集合).
按照这种方法, 我们还能构造出 {ø, {ø}},
继续进行下去又得到了 {∅, {ø}, {ø, {ø}}}.
如果让 ø 对应于 0, {ø} 对应于 1, {ø, {ø}} 对应于 2, 等等,
那么不难看出, 每个"数"都是比它大的那个数的真子集
(因此, 集合的包含关系相当于"小于").
```

- 概率空间的有用规则: 设
  $$ (\Omega, \sum, Prob) $$
  是一个概率空间, 那么可以得到如下结论.
  - (1) __全概率公式__: 如果
    $$ A \in \sum $$,
    那么
    $$ Pr(A) + Pr(A^c) = 1 $$.
  - 也就是说,
    $$ Pr(A) = 1 - Pr(A^c) $$.
  - (2)
    $$ Pr(A \cup B) = Pr(A) + Pr(B) - Pr(A \cap B) $$.
  - 这个式子可以进一步推广. 例如, 如果有三个事件, 那么
  - $$ Pr(A_1 \cup A_2 \cup A_3) =
       Pr(A_1) + Pr(A_2) + Pr(A_3) -
       Pr(A_1 \cap A_2) - Pr(A_1 \cap A_3)- Pr(A_2 \cap A_3) +
       Pr(A_1 \cap A_2 \cap A_3) $$.
  - 这也被称为`容斥原理`.
  - (3) 如果
    $$ A \subset B $$,
    那么
    $$ Pr(A) \leqslant Pr(B) $$.
    然而, 如果 `A` 是 `B` 的真子集, 那么不一定有
    $$ Pr(A) < Pr(B) $$,
    但我们确定有
    $$ Pr(B) = Pr(A) + Pr(B \cap A^c) $$,
    其中
    $$ B \cap A^c $$
    指的是 `B` 中不属于 `A` 的所有元素.
  - (4) 如果对于任意的
    $$ i $$,
    均有
    $$ A_i \subset B $$,
    那么
    $$Pr(\cup_i A_i) \leqslant Pr(B) $$.

## 条件概率, 独立性和贝叶斯定理

- __条件概率__: 设 `B` 是满足条件
  $$ Pr(B) > 0 $$
  的事件. 那么已知 `B` 时 `A` 的条件概率就等于
  - $$ Pr(A \mid B) = Pr(A \cap B) / Pr(B) $$.

- __一般乘法法则__: 我们有
  - $$ Pr(A \cap B) = Pr(A \mid B)·Pr(B) $$.

- __独立性 (两个事件)__: 如果事件 `A` 和 `B` 满足
  - $$ Pr(A \cap B) = Pr(A)·Pr(B) $$,
  - 那么 `A` 和 `B` 就是独立的.

- __独立性 (三个事件)__: 如果事件 `A`, `B` 和 `C` 满足
  - (1)
    $$ Pr(A \cap B \cap C) = Pr(A)·Pr(B)·Pr(C) $$,
    并且
  - (2) 其中任意两个事件都是独立的,
  - 那么 `A`, `B` 和 `C` 就是相互独立的.

- __独立性 (一般情形)__: 如果事件
  $$ A_1, ..., A_n $$
  满足
  - (1)
    $$ Pr(A_1 \cap ... \cap A_n) = Pr(A_1) ... Pr(A_n) $$,
    并且
  - (2)
    $$ \left \{ A_1, ..., A_n \right \} $$
    的任意一个非空子集都是相互独立的,
  - 那么
    $$ A_1, ..., A_n $$
    就是相互独立的.

> 关于三个或更多个事件的独立性, 这里有个重要的警告:
  当任意两个事件都独立时, 三个或更多事件可能会相互依赖.

---

- __贝叶斯定理__: 由一般乘法法则可以推出:
  对于事件 `A` 和 `B`, 有
  - $$ Pr(B \mid A)·Pr(A) = Pr(A \mid B)·Pr(B) $$.
  - 因此, 只要
    $$ Pr(B) ≠ 0 $$,
    我们就有
  - $$ Pr(A \mid B) = Pr(B \mid A)·\frac{Pr(A)}{Pr(B)} $$.

- __划分成两部分__: 设 `B` 是满足
  $$ 0 < Pr(B) < 1 $$
  的事件 (那么对于事件
  $$ B^c $$,
  即 `B` 不发生, 也是如此).
  - 于是, 我们可以将事件 `A` 划分成两个互不相交的事件, 即
    $$ A \cap B $$
    和
    $$ A \cap B^c $$,
    而且有
  - $$ Pr(A) = Pr(A \mid B) Pr(B) + Pr(A \mid B^c) Pr(B^c) $$.
- 这个公式是很合理的. 通过大声朗读这个式子, 我们看到,
  `A` 发生的概率就是 (已知 `B` 发生时 `A` 发生的概率) 乘以
  (`B` 发生的概率), 然后再加上 (已知 `B` 不发生时 `A` 发生的概率)
  乘以 (`B` 不发生的概率).
  - 我们分成了两种情况: `B` 发生时的结果, 和 `B` 不发生时的结果.

```
遗憾的是, 贝叶斯定理很难应用于实际情况. 我们需要明确地知道 Pr(A) 和 Pr(B) 是多少.
通常, 虽然无法确切地知道 Pr(B) 和 Pr(A) 都是什么, 但我们会得到一些条件概率,
由此可以计算出 Pr(B) 或 Pr(A). 利用这种方法, 我们可以构造一般版本的贝叶斯定理.
但是, 为了做到这一点, 必须先提高对划分理论的认识.
```

- 在开始之前, 我们先了解一些术语. 记住, 如果集合 `A` 和集合 `B` 满足
  $$ A \cap B = \varnothing $$,
  那么它们就是不相交的.
  - 也就是说, 如果 `A` 和 `B` 没有相同的元素, 那么它们就不相交.
- 样本空间 `S` 的一个划分就是满足下列条件的可数个集合
  $$ \left \{ A_1, A_2, ... \right \} $$.
  - (1) 如果
    $$ i ≠ j $$,
    那么
    $$ A_i $$
    和
    $$ A_j $$
    不相交. 我们通常用
    $$ A_i \cap A_j = \varnothing $$
    来表示这两个集合的交是空集.
  - (2) 全体
    $$ A_i $$
    的并就是整个样本空间:
    $$ \cup_i A_i = S $$.

---

- __全概率法则__: 如果
  $$ \left \{ B_1, B_2, ... \right \} $$
  构成了样本空间 `S` 的一个划分 (分成了至多可数个部分), 那么对于任意的
  $$ A \subset S $$,
  我们有
  - $$ Pr(A) = \sum_{n} Pr(A \mid B_n)·Pr(B_n) $$.
- 对于所有的 `n`, 都应该有
  $$ 0 < Pr(B_n) < l $$,
  否则条件概率就是无定义的.
  - 注意, 如果有一个
    $$ B_n $$
    的概率为 `0`, 那么我们就不需要这个
    $$ B_n $$
    了, 因为它会给出因子
    $$ Pr(B_n) = 0 $$;
    但如果它的概率是 `1`, 那么其他所有项都是不必要的).

---

- __贝叶斯定理__: 设
  $$ \left \{ A_i \right \}_{i=1}^n $$
  是样本空间的一个划分, 那么
  - $$
      Pr(A \mid B) = \frac
      {Pr(B \mid A)·Pr(A)}
      {\sum_{i=1}^{n}Pr(B \mid A_i)·Pr(A_i)}
    $$.
  - 通常情况下, `A` 就是某个
    $$ A_i $$.

## 计数 II: 容斥原理

- __对立事件__: 在很多问题中, 要想求出 `A` 的概率,
  最简单的方法就是求出 `A` 不发生的概率, 因为
  $$ Pr(A) = 1 - Pr(A^c) $$.
  - 这在解决`"至少一个"`的问题上是非常有用的,
    因为它的对立事件就是什么都没有发生.


## 离散型随机变量

## 连续型随机变量

## 工具: 期望

## 工具: 卷积和变量替换

## 工具: 微分恒等式

## 离散分布

## 连续型随机变量: 均匀分布与指数分布

## 连续型随机变量: 正态分布
